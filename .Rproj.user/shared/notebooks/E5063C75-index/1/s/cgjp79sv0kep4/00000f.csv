"0","# Tratamento dos dados"
"0",""
"0","## Seleção das colunas"
"0","ipca_15 <- ipca_15 |>"
"0","  rename(valor = 'Valor',"
"0","         cod_mes = 'Mês (Código)',"
"0","         cod_abertura = 'Geral, grupo, subgrupo, item e subitem (Código)',"
"0","         desc_abertura = 'Geral, grupo, subgrupo, item e subitem') |> "
"0","  select(valor, cod_mes, cod_abertura, desc_abertura)"
"0",""
"0",""
"0","## Separando a coluna desc_abertura"
"0","ipca_15 <- ipca_15 |> "
"0","  tidyr::separate_wider_delim("
"0","    cols = desc_abertura,"
"0","    delim = ""."","
"0","    names = c(""cod"", ""desc""),"
"0","    too_few = ""align_end"","
"0","    cols_remove = FALSE"
"0","  )"
"0",""
"0","## Criando colunas"
"0","ipca_15 <- ipca_15 |>"
"0","  mutate("
"0","    # Criando coluna data a partir da coluna cod_mes"
"0","    data = lubridate::dmy(paste0(""01"","
"0","                                 stringr::str_sub(cod_mes, start = -2),"
"0","                                 stringr::str_sub(cod_mes, end = 4))),"
"0","    # Criando tipo para os níveis de abertura"
"0","    tipo_abertura = dplyr::case_when("
"0","      nchar(cod) == 1 ~ ""Grupo"","
"0","      nchar(cod) == 2 ~ ""Subgrupo"","
"0","      nchar(cod) == 4 ~ ""Item"","
"0","      nchar(cod) > 4 ~ ""Subitem"","
"0","      is.na(cod) ~ ""Geral"""
"0","    )"
"0","    )"
"0",""
